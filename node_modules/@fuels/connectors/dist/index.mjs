import{__commonJS as e,init_esm_shims as t,__toESM as r}from"./chunk-YUDOEGWK.mjs";import{FuelConnector as n,FuelConnectorEventTypes as o,Provider as i,Wallet as s,transactionRequestify as a}from"fuels";var u=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/models.js"(e){t();var r=e&&e.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.createJSONRPCNotification=e.createJSONRPCRequest=e.createJSONRPCSuccessResponse=e.createJSONRPCErrorResponse=e.JSONRPCErrorCode=e.JSONRPCErrorException=e.isJSONRPCResponses=e.isJSONRPCResponse=e.isJSONRPCRequests=e.isJSONRPCRequest=e.isJSONRPCID=e.JSONRPC=void 0,e.JSONRPC="2.0";e.isJSONRPCID=function(e){return"string"==typeof e||"number"==typeof e||null===e};e.isJSONRPCRequest=function(t){return t.jsonrpc===e.JSONRPC&&void 0!==t.method&&void 0===t.result&&void 0===t.error};e.isJSONRPCRequests=function(t){return Array.isArray(t)&&t.every(e.isJSONRPCRequest)};e.isJSONRPCResponse=function(t){return t.jsonrpc===e.JSONRPC&&void 0!==t.id&&(void 0!==t.result||void 0!==t.error)};e.isJSONRPCResponses=function(t){return Array.isArray(t)&&t.every(e.isJSONRPCResponse)};var n,o=function(e,t,r){var n={code:e,message:t};return null!=r&&(n.data=r),n},i=function(e){function t(r,n,o){var i=e.call(this,r)||this;return Object.setPrototypeOf(i,t.prototype),i.code=n,i.data=o,i}return r(t,e),t.prototype.toObject=function(){return o(this.code,this.message,this.data)},t}(Error);e.JSONRPCErrorException=i,(n=e.JSONRPCErrorCode||(e.JSONRPCErrorCode={}))[n.ParseError=-32700]="ParseError",n[n.InvalidRequest=-32600]="InvalidRequest",n[n.MethodNotFound=-32601]="MethodNotFound",n[n.InvalidParams=-32602]="InvalidParams",n[n.InternalError=-32603]="InternalError";e.createJSONRPCErrorResponse=function(t,r,n,i){return{jsonrpc:e.JSONRPC,id:t,error:o(r,n,i)}};e.createJSONRPCSuccessResponse=function(t,r){return{jsonrpc:e.JSONRPC,id:t,result:null!=r?r:null}};e.createJSONRPCRequest=function(t,r,n){return{jsonrpc:e.JSONRPC,id:t,method:r,params:n}};e.createJSONRPCNotification=function(t,r){return{jsonrpc:e.JSONRPC,method:t,params:r}}}}),c=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/internal.js"(e){t(),Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultErrorCode=void 0,e.DefaultErrorCode=0}}),l=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/client.js"(e){t();var r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCClient=void 0;var o=u(),i=c(),s=function(){function e(e,t){this._send=e,this.createID=t,this.idToResolveMap=new Map,this.id=0}return e.prototype._createID=function(){return this.createID?this.createID():++this.id},e.prototype.timeout=function(e,t){var r=this;void 0===t&&(t=function(e){return(0,o.createJSONRPCErrorResponse)(e,i.DefaultErrorCode,"Request timeout")});var n=function(n,o){var i=setTimeout((function(){n.forEach((function(e){var n=r.idToResolveMap.get(e);n&&(r.idToResolveMap.delete(e),n(t(e)))}))}),e);return o().then((function(e){return clearTimeout(i),e}),(function(e){return clearTimeout(i),Promise.reject(e)}))};return{request:function(e,t,o){var i=r._createID();return n([i],(function(){return r.requestWithID(e,t,o,i)}))},requestAdvanced:function(e,t){return function(e,t){var o=(Array.isArray(e)?e:[e]).map((function(e){return e.id})).filter(a);return n(o,(function(){return r.requestAdvanced(e,t)}))}(e,t)}}},e.prototype.request=function(e,t,r){return this.requestWithID(e,t,r,this._createID())},e.prototype.requestWithID=function(e,t,i,s){return r(this,void 0,void 0,(function(){var r,a;return n(this,(function(n){switch(n.label){case 0:return r=(0,o.createJSONRPCRequest)(s,e,t),[4,this.requestAdvanced(r,i)];case 1:return void 0===(a=n.sent()).result||a.error?void 0===a.result&&a.error?[2,Promise.reject(new o.JSONRPCErrorException(a.error.message,a.error.code,a.error.data))]:[2,Promise.reject(new Error("An unexpected error occurred"))]:[2,a.result]}}))}))},e.prototype.requestAdvanced=function(e,t){var r=this,n=Array.isArray(e);Array.isArray(e)||(e=[e]);var s=e.filter((function(e){return a(e.id)})),u=s.map((function(e){return new Promise((function(t){return r.idToResolveMap.set(e.id,t)}))})),c=Promise.all(u).then((function(e){return n||!e.length?e:e[0]}));return this.send(n?e:e[0],t).then((function(){return c}),(function(e){return s.forEach((function(t){r.receive((0,o.createJSONRPCErrorResponse)(t.id,i.DefaultErrorCode,e&&e.message||"Failed to send a request"))})),c}))},e.prototype.notify=function(e,t,r){var n=(0,o.createJSONRPCNotification)(e,t);this.send(n,r).then(void 0,(function(){}))},e.prototype.send=function(e,t){return r(this,void 0,void 0,(function(){return n(this,(function(r){return[2,this._send(e,t)]}))}))},e.prototype.rejectAllPendingRequests=function(e){this.idToResolveMap.forEach((function(t,r){return t((0,o.createJSONRPCErrorResponse)(r,i.DefaultErrorCode,e))})),this.idToResolveMap.clear()},e.prototype.receive=function(e){var t=this;Array.isArray(e)||(e=[e]),e.forEach((function(e){var r=t.idToResolveMap.get(e.id);r&&(t.idToResolveMap.delete(e.id),r(e))}))},e}();e.JSONRPCClient=s;var a=function(e){return null!=e}}}),d=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/interfaces.js"(e){t(),Object.defineProperty(e,"__esModule",{value:!0})}}),h=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/server.js"(e){t();var r=e&&e.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},n=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},i=e&&e.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCServer=void 0;var s=u(),a=c(),l=function(e){return(0,s.createJSONRPCErrorResponse)((0,s.isJSONRPCID)(e.id)?e.id:null,s.JSONRPCErrorCode.InvalidRequest,"Invalid Request")},d=function(){function e(e){var t;void 0===e&&(e={}),this.mapErrorToJSONRPCErrorResponse=y,this.nameToMethodDictionary={},this.middleware=null,this.errorListener=null!==(t=e.errorListener)&&void 0!==t?t:console.warn}return e.prototype.hasMethod=function(e){return!!this.nameToMethodDictionary[e]},e.prototype.addMethod=function(e,t){this.addMethodAdvanced(e,this.toJSONRPCMethod(t))},e.prototype.removeMethod=function(e){delete this.nameToMethodDictionary[e]},e.prototype.toJSONRPCMethod=function(e){return function(t,r){var n=e(t.params,r);return Promise.resolve(n).then((function(e){return f(t.id,e)}))}},e.prototype.addMethodAdvanced=function(e,t){var n;this.nameToMethodDictionary=r(r({},this.nameToMethodDictionary),((n={})[e]=t,n))},e.prototype.receiveJSON=function(e,t){var r=this.tryParseRequestJSON(e);return r?this.receive(r,t):Promise.resolve((0,s.createJSONRPCErrorResponse)(null,s.JSONRPCErrorCode.ParseError,"Parse error"))},e.prototype.tryParseRequestJSON=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.receive=function(e,t){return Array.isArray(e)?this.receiveMultiple(e,t):this.receiveSingle(e,t)},e.prototype.receiveMultiple=function(e,t){return n(this,void 0,void 0,(function(){var r,n=this;return o(this,(function(o){switch(o.label){case 0:return[4,Promise.all(e.map((function(e){return n.receiveSingle(e,t)})))];case 1:return 1===(r=o.sent().filter(h)).length?[2,r[0]]:r.length?[2,r]:[2,null]}}))}))},e.prototype.receiveSingle=function(e,t){return n(this,void 0,void 0,(function(){var r,n;return o(this,(function(o){switch(o.label){case 0:return r=this.nameToMethodDictionary[e.method],(0,s.isJSONRPCRequest)(e)?[3,1]:[2,l(e)];case 1:return[4,this.callMethod(r,e,t)];case 2:return n=o.sent(),[2,v(e,n)]}}))}))},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.middleware?this.middleware=this.combineMiddlewares(i([this.middleware],e,!0)):this.middleware=this.combineMiddlewares(e)},e.prototype.combineMiddlewares=function(e){return e.length?e.reduce(this.middlewareReducer):null},e.prototype.middlewareReducer=function(e,t){return function(r,n,o){return e((function(e,n){return t(r,e,n)}),n,o)}},e.prototype.callMethod=function(e,t,r){var n=this,o=function(e){return n.errorListener('An unexpected error occurred while executing "'.concat(t.method,'" JSON-RPC method:'),e),Promise.resolve(n.mapErrorToJSONRPCErrorResponseIfNecessary(t.id,e))};try{return(this.middleware||p)((function(t,r){return e?e(t,r):void 0!==t.id?Promise.resolve((n=t.id,(0,s.createJSONRPCErrorResponse)(n,s.JSONRPCErrorCode.MethodNotFound,"Method not found"))):Promise.resolve(null);var n}),t,r).then(void 0,o)}catch(e){return o(e)}},e.prototype.mapErrorToJSONRPCErrorResponseIfNecessary=function(e,t){return void 0!==e?this.mapErrorToJSONRPCErrorResponse(e,t):null},e}();e.JSONRPCServer=d;var h=function(e){return null!==e},p=function(e,t,r){return e(t,r)},f=function(e,t){return void 0!==e?(0,s.createJSONRPCSuccessResponse)(e,t):null},y=function(e,t){var r,n,o=null!==(r=null==t?void 0:t.message)&&void 0!==r?r:"An unexpected error occurred",i=a.DefaultErrorCode;return t instanceof s.JSONRPCErrorException&&(i=t.code,n=t.data),(0,s.createJSONRPCErrorResponse)(e,i,o,n)},v=function(e,t){return t||(void 0!==e.id?(0,s.createJSONRPCErrorResponse)(e.id,s.JSONRPCErrorCode.InternalError,"Internal error"):null)}}}),p=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/server-and-client.js"(e){t();var r=e&&e.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},n=e&&e.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.JSONRPCServerAndClient=void 0;var o=u(),i=function(){function e(e,t,r){var n;void 0===r&&(r={}),this.server=e,this.client=t,this.errorListener=null!==(n=r.errorListener)&&void 0!==n?n:console.warn}return e.prototype.applyServerMiddleware=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.server).applyMiddleware.apply(e,t)},e.prototype.hasMethod=function(e){return this.server.hasMethod(e)},e.prototype.addMethod=function(e,t){this.server.addMethod(e,t)},e.prototype.addMethodAdvanced=function(e,t){this.server.addMethodAdvanced(e,t)},e.prototype.removeMethod=function(e){this.server.removeMethod(e)},e.prototype.timeout=function(e){return this.client.timeout(e)},e.prototype.request=function(e,t,r){return this.client.request(e,t,r)},e.prototype.requestAdvanced=function(e,t){return this.client.requestAdvanced(e,t)},e.prototype.notify=function(e,t,r){this.client.notify(e,t,r)},e.prototype.rejectAllPendingRequests=function(e){this.client.rejectAllPendingRequests(e)},e.prototype.receiveAndSend=function(e,t,i){return r(this,void 0,void 0,(function(){var r,s;return n(this,(function(n){switch(n.label){case 0:return(0,o.isJSONRPCResponse)(e)||(0,o.isJSONRPCResponses)(e)?(this.client.receive(e),[3,4]):[3,1];case 1:return(0,o.isJSONRPCRequest)(e)||(0,o.isJSONRPCRequests)(e)?[4,this.server.receive(e,t)]:[3,3];case 2:return(r=n.sent())?[2,this.client.send(r,i)]:[3,4];case 3:return s="Received an invalid JSON-RPC message",this.errorListener(s,e),[2,Promise.reject(new Error(s))];case 4:return[2]}}))}))},e}();e.JSONRPCServerAndClient=i}}),f=e({"../../node_modules/.pnpm/json-rpc-2.0@1.7.0/node_modules/json-rpc-2.0/dist/index.js"(e){t();var r=e&&e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(e,"__esModule",{value:!0}),n(l(),e),n(d(),e),n(u(),e),n(h(),e),n(p(),e)}});t(),t(),t(),t(),t();var y="undefined"!=typeof window?window:{},v="burner-wallet-private-key",M=class e extends n{constructor(e={}){super(),this.name="Burner Wallet",this.connected=!1,this.installed=!1,this.events=o,this.metadata={image:"data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ny41IDQ3LjUiPjxkZWZzPjxjbGlwUGF0aCBpZD0iYSI+PHBhdGggZD0iTTAgMzhoMzhWMEgwdjM4WiIvPjwvY2xpcFBhdGg+PGNsaXBQYXRoIGlkPSJiIj48cGF0aCBkPSJNMTguNTgzIDI3LjgzM2MtMi45NTctLjIzMS01LjY2NiAyLjU0Mi00LjY2NiA3LjA0Mi0zLjIzOS0yLjM4Ni0zLjMzMi02LjQwMy0yLjMzMy05IDEuMDQxLTIuNzA4LS4wNDItNC45NTgtMi41ODQtNS4yMDgtMi44MzktLjI4LTQuNDE2IDMuMDQyLTIuOTYyIDguMzMzQTE2LjkzNiAxNi45MzYgMCAwIDEgMiAxOEMyIDguNjExIDkuNjExIDEgMTkgMXMxNyA3LjYxMSAxNyAxN2MwIDIuMDYzLS4zNjcgNC4wMzktMS4wNCA1Ljg2OC0uNDYtNS4zODgtMy4zMzMtOC4xNTctNi4zMzUtNi44NjgtMi44MTIgMS4yMDgtLjkxNyA1LjkxNy0uNzc3IDguMTY0LjIzNiAzLjgwOS0uMDEyIDguMTY5LTYuOTMxIDExLjc5NCAyLjg3NS01LjQ5OS4zMzMtOC45MTctMi4zMzQtOS4xMjUiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjYSkiIHRyYW5zZm9ybT0ibWF0cml4KDEuMjUgMCAwIC0xLjI1IDAgNDcuNSkiPjxwYXRoIGZpbGw9IiNmNDkwMGMiIGQ9Ik0zNiAxOGMwIDIuMDYzLS4zNjcgNC4wMzktMS4wNCA1Ljg2OC0uNDYtNS4zODktMy4zMzMtOC4xNTctNi4zMzUtNi44NjgtMi44MTMgMS4yMDgtLjkxNyA1LjkxNy0uNzc3IDguMTY0LjIzNiAzLjgwOS0uMDEyIDguMTY5LTYuOTMxIDExLjc5NCAyLjg3NS01LjUuMzMzLTguOTE2LTIuMzM0LTkuMTI1LTIuOTU4LS4yMy01LjY2NiAyLjU0Mi00LjY2NiA3LjA0Mi0zLjIzOC0yLjM4Ni0zLjMzMy02LjQwMi0yLjMzNC05IDEuMDQyLTIuNzA4LS4wNDEtNC45NTgtMi41ODMtNS4yMDgtMi44MzktLjI4LTQuNDE3IDMuMDQxLTIuOTYyIDguMzMzQTE2LjkzNiAxNi45MzYgMCAwIDEgMiAxOEMyIDguNjExIDkuNjExIDEgMTkgMXMxNyA3LjYxMSAxNyAxNyIvPjwvZz48ZyBjbGlwLXBhdGg9InVybCgjYikiIHRyYW5zZm9ybT0ibWF0cml4KDEuMjUgMCAwIC0xLjI1IDAgNDcuNSkiPjxwYXRoIGZpbGw9IiNmZmNjNGQiIGQ9Ik0zMSA3YzAgMi4xODctLjU4NCA0LjIzNi0xLjYwNSA2LjAwMS4xNDctMy4wODQtMi41NjItNC4yOTMtNC4wMi0zLjcwOS0yLjEwNS44NDMtMS41NDEgMi4yOTEtMi4wODMgNS4yOTEtLjU0MiAzLTIuNjI1IDUuMDg0LTUuNzA5IDYgMi4yNS02LjMzMy0xLjI0Ny04LjY2Ny0zLjA4LTkuMDg0LTEuODcyLS40MjYtMy43NTMuMDAxLTMuOTY4IDQuMDA3QTExLjk2NyAxMS45NjcgMCAwIDEgNyA3QzcgLjM3MyAxMi4zNzMtNSAxOS01UzMxIC4zNzMgMzEgNyIvPjwvZz48L3N2Zz4=",install:{action:"",description:"Burner Wallet to connect to Fuel",link:""}},this.burnerWallet=null,this.burnerWalletProvider=null,this.storage=this.getStorage(e.storage),this.setupBurnerWallet()}async getProvider(t={}){return this.burnerWalletProvider||(this.burnerWalletProvider=await(t.fuelProvider||i.create(e.defaultProviderUrl))),this.burnerWalletProvider}generatePrivateKey(){const e=s.generate().privateKey;return this.storage.setItem(v,e),e}async setupBurnerWallet(e=!1){if(this.burnerWallet)return;let t=await this.storage.getItem(v);return e&&!t&&(t=this.generatePrivateKey()),t?(this.burnerWallet=s.fromPrivateKey(t,await this.getProvider()),this.burnerWallet):void 0}getStorage(e){const t=e??y.localStorage;if(!t)throw new Error("No storage provided");return t}async ping(){return await this.setupBurnerWallet(),!0}async version(){return{app:"0.0.0",network:"0.0.0"}}async isConnected(){return await this.setupBurnerWallet(!1),!!this.burnerWallet}async connect(){await this.setupBurnerWallet(!0);const e=this.burnerWallet?.address.toAddress();return this.emit(this.events.connection,!0),this.emit(this.events.currentAccount,e),this.emit(this.events.accounts,[e]),!0}async accounts(){if(!this.burnerWallet)throw Error("Wallet not connected");const e=this.burnerWallet.address.toAddress();return e?[e]:[]}async disconnect(){return this.burnerWalletProvider=null,this.burnerWallet=null,this.storage.removeItem(v),this.emit(this.events.connection,!1),this.emit(this.events.currentAccount,null),this.emit(this.events.accounts,[]),this.connected}async signMessage(e,t){if(!this.burnerWallet)throw Error("Wallet not connected");if(e!==this.burnerWallet.address.toString())throw Error("Address not found for the connector");return await this.burnerWallet.signMessage(t)}async sendTransaction(e,t){if(!this.burnerWallet)throw Error("Wallet not connected");if(e!==this.burnerWallet.address.toString())throw Error("Address not found for the connector");return(await this.burnerWallet.sendTransaction(t,{awaitExecution:!0})).id}async currentAccount(){if(!this.burnerWallet)throw Error("Wallet not connected");return this.burnerWallet.address.toString()||null}async addAssets(e){throw new Error("Method not implemented.")}async addAsset(e){throw new Error("Method not implemented.")}async assets(){return[]}async addNetwork(e){throw new Error("Method not implemented.")}async selectNetwork(e){throw new Error("Method not implemented.")}async networks(){return[await this.currentNetwork()]}async currentNetwork(){const e=await this.getProvider();return{chainId:e.getChainId(),url:e.url??""}}async addAbi(e){throw new Error("Method not implemented.")}async getAbi(e){throw Error("Method not implemented.")}async hasAbi(e){throw Error("Method not implemented.")}};M.defaultProviderUrl="https://testnet.fuel.network/v1/graphql";var w=M;t(),t(),t(),t();var N="FuelConnectorScript",g="FuelContentScript",m="message";t();var j=r(f());t();var S=(e=>(e.ping="ping",e.uiEvent="uiEvent",e.event="event",e.request="request",e.response="response",e.removeConnection="removeConnection",e))(S||{}),R=class extends n{constructor(e="Fuel Wallet"){super(),this.name="",this.connected=!1,this.installed=!1,this.events=o,this.metadata={image:"/connectors/fuel-wallet.svg",install:{action:"Install",description:"To connect your Fuel Wallet, install the browser extension.",link:"https://chrome.google.com/webstore/detail/fuel-wallet/dldjpboieedgcmpkchcjcbijingjcgok"}},this.onMessage=e=>{const t=Object.freeze(e);if(!this.acceptMessage(t))return;const{data:r}=t;this.onCommunicationMessage(r)},this.onCommunicationMessage=e=>{switch(e.type){case"response":this.onResponse(e);break;case"event":this.onEvent(e)}},this.name=e,this.setMaxListeners(100),this.client=new j.JSONRPCClient(this.sendRequest.bind(this),this.createRequestId),this.setupListener(),this.setupConnector()}async setupConnector(){"undefined"!=typeof window&&this.ping().then((()=>{window.dispatchEvent(new CustomEvent("FuelConnector",{detail:this}))})).catch((()=>{}))}acceptMessage(e){const{data:t}=e;return e.origin===window.origin&&"request"!==t.type&&t.connectorName===this.name&&t.target===N}setupListener(){"undefined"!=typeof window&&window.addEventListener(m,this.onMessage.bind(this))}createRequestId(){return crypto.randomUUID()}postMessage(e,t){window.postMessage(e,t||window.origin)}async sendRequest(e){e&&this.postMessage({type:"request",target:g,connectorName:this.name,request:e})}onResponse(e){this.client.receive(e.response)}onEvent(e){e.events.forEach((e=>{"start"===e.event?this.setupConnector():this.emit(e.event,...e.params)}))}async ping(){return this.client.timeout(800).request("ping",{})}async isConnected(){try{return await this.client.request("isConnected",{})}catch{return!1}}async connect(){return this.client.request("connect",{})}async disconnect(){return this.client.request("disconnect",{})}async accounts(){return this.client.request("accounts",{})}async currentAccount(){return this.client.request("currentAccount",{})}async signMessage(e,t){if(!t.trim())throw new Error("Message is required");return this.client.request("signMessage",{address:e,message:t})}async sendTransaction(e,t){if(!t)throw new Error("Transaction is required");const r=a(t),n={url:(await this.currentNetwork()).url};return this.client.request("sendTransaction",{address:e,transaction:JSON.stringify(r),provider:n})}async assets(){return this.client.request("assets",{})}async addAsset(e){return this.addAssets([e])}async addAssets(e){const t=e.map((e=>{const t=e.networks.find((e=>"fuel"===e.type));if(!t)throw new Error("Asset for Fuel Network not found!");return{...e,imageUrl:e.icon,decimals:t.decimals,assetId:t.assetId}}));return this.client.request("addAssets",{assets:t})}async addABI(e,t){return this.client.request("addAbi",{abiMap:{[e]:t}})}async getABI(e){return this.client.request("getAbi",{contractId:e})}async hasABI(e){return!!await this.getABI(e)}async currentNetwork(){return this.client.request("network",{})}async selectNetwork(e){throw new Error("Method not implemented.")}async networks(){return this.client.request("networks",{})}async addNetwork(e){const t=await i.create(e);return this.client.request("addNetwork",{network:{url:t.url,name:t.getChain().name}})}async version(){return this.client.request("version",{app:"0.0.0",network:"0.0.0"})}},C=class extends R{constructor(){super("Fuel Wallet Development"),this.metadata={image:"/connectors/fuel-wallet-dev.svg",install:{action:"Install",description:"To connect your Fuel Wallet, you need to install the browser extension first.",link:"https://chrome.google.com/webstore/detail/fuel-wallet-development/hcgmehahnlbhpilepakbdinkhhaackmc"}}}};t(),t();var P=class extends R{constructor(){super("Fuelet Wallet"),this.name="Fuelet Wallet",this.metadata={image:{light:"/connectors/fuelet-light.svg",dark:"/connectors/fuelet-dark.svg"},install:{action:"Install",description:"Install Fuelet Wallet in order to connect it.",link:"https://fuelet.app/download/"}}}};function O({devMode:e}={}){const t=[new R,new P,new w];return e&&t.push(new C),t}export{w as BurnerWalletConnector,N as CONNECTOR_SCRIPT,g as CONTENT_SCRIPT_NAME,m as EVENT_MESSAGE,R as FuelWalletConnector,C as FuelWalletDevelopmentConnector,P as FueletWalletConnector,S as MessageTypes,O as defaultConnectors};//# sourceMappingURL=index.mjs.map